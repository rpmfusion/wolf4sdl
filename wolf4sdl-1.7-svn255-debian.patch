diff -urN --exclude .git Wolf4SDL-1.6-src/debian/README.Debian wolf4sdl/debian/README.Debian
--- Wolf4SDL-1.6-src/debian/README.Debian	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/README.Debian	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,30 @@
+Wolf4SDL for Debian
+-------------------
+
+ * The wolf4sdl game requires additional data files which are not available
+   under a free license and cannot be distributed by Debian. Thus, this package
+   contains no data files, but future releases of `game-data-packager' are
+   expected to be able to generate suitable data packages for wolf4sdl.
+   .
+   For the time being, it is required to obtain the data files from external
+   ressources (hint: WolfGL home page, Files section) and copy them into the
+   `/usr/share/games/wolf3d' directory.
+
+ * The wolf4sdl package in Debian supports five variants of the game:
+   Wolf3d Full v1.4 Apogee (with ReadThis), Wolf3d Full v1.4 GT/ID/Activision,
+   Wolf3d Shareware v1.4, Spear of Destiny Full and Mission Disks, Spear of
+   Destiny Demo. The corresponding binaries are named 'wolf4sdl-wl6a',
+   'wolf4sdl-wl6', 'wolf4sdl-wl1', 'wolf4sdl-sod' and 'wolf4sdl-sdm',
+   respectively. In order to select which variant is started by the 'wolf4sdl'
+   command and the desktop and menu files, Debian's 'update-alternatives'
+   mechanism is used:
+   .
+   $ update-alternatives --config wolf4sdl
+   .
+   By default, the 'wolf4sdl-wl1' alternative is preferred.
+   .
+   The game expects its data files in the '/usr/share/games/wolf3d' directory
+   (with lower case file names), so make sure to also copy the appropriate data
+   files into this directory when changing the 'wolf4sdl' alternative.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Mon, 03 Jan 2011 15:10:21 +0100
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/applications/wolf4sdl.desktop wolf4sdl/debian/applications/wolf4sdl.desktop
--- Wolf4SDL-1.6-src/debian/applications/wolf4sdl.desktop	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/applications/wolf4sdl.desktop	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,8 @@
+[Desktop Entry]
+Type=Application
+Name=Wolf4SDL
+Comment=SDL-Port of Wolfenstein 3-D and Spear of Destiny
+Icon=wolf4sdl
+TryExec=wolf4sdl
+Exec=wolf4sdl
+Categories=Game;ActionGame;
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/changelog wolf4sdl/debian/changelog
--- Wolf4SDL-1.6-src/debian/changelog	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/changelog	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,87 @@
+wolf4sdl (1.7~svn255-1) experimental; urgency=low
+
+  [ Jon Dowland ]
+  * spelling correction
+  * line-wrap changelog
+
+  [ Fabian Greffrath ]
+  * New upstream SVN snapshot
+    (revision 255 of <svn://tron.homeunix.org:3690/wolf3d/trunk>).
+  * Refresh all patches.
+  * Drop 11-configdir.patch, implemented differently upstream.
+  * Drop 22-compile-fixes.patch, first chucnk applied upstream,
+    second chunk unnecessary since dropping 11-configdir.patch.
+  * 31-pc-speaker.patch: New patch to enable PC speaker emulation,
+    adapt 21-compiler-warnings.patch accordingly.
+  * 32-mingw.patch: New patch to fix portability issues on MinGW.
+  * Add .gitignore, debian/gbp.conf and debian/source/local-options
+    helper files.
+  * Fix 21-compiler-warnings.patch to silence the compiler again.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Mon, 18 Apr 2011 23:50:30 +0200
+
+wolf4sdl (1.6-2) experimental; urgency=low
+
+  * Non-maintainer upload.
+  * bump version to satisfy dak
+
+ -- Jon Dowland <jmtd@debian.org>  Thu, 24 Mar 2011 15:35:12 +0000
+
+wolf4sdl (1.6-1) experimental; urgency=low
+
+  * Initial release (Closes: #615056).
+  * Target at experimental until game-data-packager is able to
+    create appropriate data packages.
+  * Set Maintainer to Debian Games Team and add myself to Uploaders.
+  * Fix upstream Homepage.
+  * Add Vcs-* fields.
+  * Play safe and run "make clean" between the builds.
+  * Fix debian/watch file.
+  * Document the missing game data files in both debian/control and
+    README.Debian.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Mon, 28 Feb 2011 13:06:25 +0100
+
+wolf4sdl (1.6-0fab3) unstable; urgency=low
+
+  * Add some "sleep 1" between the different variant builds in debian/rules
+    to avoid race conditions when e.g. version.h and wl_state.cpp have been
+    modified within the same second.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Fri, 25 Feb 2011 17:11:14 +0100
+
+wolf4sdl (1.6-0fab2) unstable; urgency=low
+
+  * Build five variants of Wolf4SDL:
+    + Wolf3d Full v1.4 Apogee (with ReadThis)
+    + Wolf3d Full v1.4 GT/ID/Activision
+    + Wolf3d Shareware v1.4
+    + Spear of Destiny Full and Mission Disks
+    + Spear of Destiny Demo
+  * Handle variants via update-alternatives, document this in the manual page
+    and in README-Debian, add symlinks for the manual pages.
+  * Add lintian overrides for desktop-command-not-in-package
+    and menu-command-not-in-package.
+  * Quit if getenv("HOME") returns NULL,
+    thanks Hans de Goede <hdegoede@redhat.com>.
+  * Add a patch to get things to build with very recent gcc/glibc,
+    thanks Hans de Goede <hdegoede@redhat.com>.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Mon, 03 Jan 2011 13:49:27 +0100
+
+wolf4sdl (1.6-0fab1) unstable; urgency=low
+
+  * Initial release.
+  * Build the Wolf3d Shareware v1.4 variant.
+  * Enable shading support (just because I like it).
+  * Use /usr/share/games/wolf3d for data files.
+  * Use ~/.wolf4sdl for config files and saved games.
+  * Rename game binary to wolf4sdl from wolf3d.
+  * Fix some compiler warnings so the code compiles cleanly with
+    g++-4.5 and CFLAGS+="-Wall -Wno-sign-compare -Wno-switch".
+  * Add and install wolf4sdl.6 manual page.
+  * Install README* documentation.
+  * Add and install wolf4sdl.xpm icon based on NewWolf.ico.
+  * Add and install wolf4sdl.menu and wolf4sdl.desktop files.
+
+ -- Fabian Greffrath <fabian+debian@greffrath.com>  Wed, 22 Dec 2010 11:29:17 +0100
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/clean wolf4sdl/debian/clean
--- Wolf4SDL-1.6-src/debian/clean	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/clean	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,3 @@
+wolf3d
+wolf4sdl
+wolf4sdl-*
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/compat wolf4sdl/debian/compat
--- Wolf4SDL-1.6-src/debian/compat	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/compat	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1 @@
+7
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/control wolf4sdl/debian/control
--- Wolf4SDL-1.6-src/debian/control	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/control	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,34 @@
+Source: wolf4sdl
+Section: non-free/games
+Priority: extra
+Maintainer: Debian Games Team <pkg-games-devel@lists.alioth.debian.org>
+Uploaders: Fabian Greffrath <fabian+debian@greffrath.com>
+Build-Depends: debhelper (>= 7.0.50~),
+ libsdl1.2-dev,
+ libsdl-mixer1.2-dev
+Standards-Version: 3.9.1
+Homepage: http://www.chaos-software.de.vu/
+Vcs-Git: git://git.debian.org/git/pkg-games/wolf4sdl.git
+Vcs-Browser: http://git.debian.org/?p=pkg-games/wolf4sdl.git;a=summary
+
+Package: wolf4sdl
+Architecture: any
+Depends: ${shlibs:Depends},
+ ${misc:Depends}
+Description: SDL-Port of Wolfenstein 3-D and Spear of Destiny
+ Maybe it was the fact that people got to blow away Nazis. Maybe it was the
+ sheer challenge of it all. For whatever reason, Wolfenstein 3-D and Spear of
+ Destiny, pioneered the first-person shooter genre and brought its legendary
+ creators, id Software, worldwide notoriety and numerous awards. In fact, The
+ Computer Gaming World Hall of Fame recognized Wolfenstein 3D as helping to
+ shape the overall direction of the computer gaming industry.
+ .
+ Wolf4SDL is an open-source port of id Software's classic first-person shooter
+ Wolfenstein 3-D to the cross-platform multimedia library "Simple DirectMedia
+ Layer (SDL)" (http://www.libsdl.org). It is meant to keep the original feel
+ while taking advantage of some improvements.
+ .
+ The wolf4sdl game requires additional data files which are not available
+ under a free license and cannot be distributed by Debian. Thus, this package
+ contains no data files, but future releases of `game-data-packager' are
+ expected to be able to generate suitable data packages for wolf4sdl.
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/copyright wolf4sdl/debian/copyright
--- Wolf4SDL-1.6-src/debian/copyright	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/copyright	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,180 @@
+Author: Moritz "Ripper" Kroll <http://www.chaos-software.de.vu>
+Download: http://www.stud.uni-karlsruhe.de/~uvaue/chaos/downloads.html
+
+Files: *
+Copyright: Â© 1992 Id Software, Inc.
+License: Limited Use Software License Agreement
+ 	LIMITED USE SOFTWARE LICENSE AGREEMENT
+ .
+ 	This Limited Use Software License Agreement (the "Agreement")
+ is a legal agreement between you, the end-user, and Id Software, Inc.
+ ("ID").  By continuing the downloading of this Wolfenstein 3D
+ (the "Trademark") software material, which includes source code
+ (the "Source Code"), artwork data, music and software tools
+ (collectively, the "Software"), you are agreeing to be bound by the
+ terms of this Agreement.  If you do not agree to the terms of this
+ Agreement, promptly destroy the Software you may have downloaded.
+ .
+ ID SOFTWARE LICENSE
+ .
+ 	Grant of License.  ID grants to you the right to use one (1)
+ copy of the Software on a single computer.  You have no ownership or
+ proprietary rights in or to the Software, or the Trademark.  For purposes
+ of this section, "use" means loading the Software into RAM, as well as
+ installation on a hard disk or other storage device.  The Software,
+ together with any archive copy thereof, shall be destroyed when no longer
+ used in accordance with this Agreement, or when the right to use the
+ Software is terminated.  You agree that the Software will not be shipped,
+ transferred or exported into any country in violation of the U.S.
+ Export Administration Act (or any other law governing such matters) and
+ that you will not utilize, in any other manner, the Software in violation
+ of any applicable law.
+ .
+ 	Permitted Uses.  For educational purposes only, you, the end-user,
+ may use portions of the Source Code, such as particular routines, to
+ develop your own software, but may not duplicate the Source Code, except
+ as noted in paragraph 4.  The limited right referenced in the preceding
+ sentence is hereinafter referred to as "Educational Use."  By so exercising
+ the Educational Use right you shall not obtain any ownership, copyright,
+ proprietary or other interest in or to the Source Code, or any portion of
+ the Source Code.  You may dispose of your own software in your sole
+ discretion.  With the exception of the Educational Use right, you may not
+ otherwise use the Software, or an portion of the Software, which includes
+ the Source Code, for commercial gain.
+ .
+ 	Prohibited Uses:  Under no circumstances shall you, the end-user,
+ be permitted, allowed or authorized to commercially exploit the Software.
+ Neither you nor anyone at your direction shall do any of the following acts
+ with regard to the Software, or any portion thereof:
+ .
+ 	Rent;
+ .
+ 	Sell;
+ .
+ 	Lease;
+ .
+ 	Offer on a pay-per-play basis;
+ .
+ 	Distribute for money or any other consideration; or
+ .
+ 	In any other manner and through any medium whatsoever commercially
+ exploit or use for any commercial purpose.
+ .
+ Notwithstanding the foregoing prohibitions, you may commercially exploit the
+ software you develop by exercising the Educational Use right, referenced in
+ paragraph 2. hereinabove.
+ .
+ 	Copyright.  The Software and all copyrights related thereto
+ (including all characters and other images generated by the Software
+ or depicted in the Software) are owned by ID and is protected by
+ United States copyright laws and international treaty provisions.
+ Id shall retain exclusive ownership and copyright in and to the Software
+ and all portions of the Software and you shall have no ownership or other
+ proprietary interest in such materials. You must treat the Software like
+ any other copyrighted material, except that you may either (a) make one
+ copy of the Software solely for back-up or archival purposes, or (b)
+ transfer the Software to a single hard disk provided you keep the original
+ solely for back-up or archival purposes.  You may not otherwise reproduce,
+ copy or disclose to others, in whole or in any part, the Software.  You
+ may not copy the written materials accompanying the Software.  You agree
+ to use your best efforts to see that any user of the Software licensed
+ hereunder complies with this Agreement.
+ .
+ 	NO WARRANTIES.  ID DISCLAIMS ALL WARRANTIES, BOTH EXPRESS IMPLIED,
+ INCLUDING BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND
+ FITNESS FOR A PARTICULAR PURPOSE WITH RESPECT TO THE SOFTWARE.  THIS LIMITED
+ WARRANTY GIVES YOU SPECIFIC LEGAL RIGHTS.  YOU MAY HAVE OTHER RIGHTS WHICH
+ VARY FROM JURISDICTION TO JURISDICTION.  ID DOES NOT WARRANT THAT THE
+ OPERATION OF THE SOFTWARE WILL BE UNINTERRUPTED, ERROR FREE OR MEET YOUR
+ SPECIFIC REQUIREMENTS.  THE WARRANTY SET FORTH ABOVE IS IN LIEU OF ALL OTHER
+ EXPRESS WARRANTIES WHETHER ORAL OR WRITTEN.  THE AGENTS, EMPLOYEES,
+ DISTRIBUTORS, AND DEALERS OF ID ARE NOT AUTHORIZED TO MAKE MODIFICATIONS TO
+ THIS WARRANTY, OR ADDITIONAL WARRANTIES ON BEHALF OF ID.
+ .
+ 	Exclusive Remedies.  The Software is being offered to you free of any
+ charge.  You agree that you have no remedy against ID, its affiliates,
+ contractors, suppliers, and agents for loss or damage caused by any defect
+ or failure in the Software regardless of the form of action, whether in
+ contract, tort, includinegligence, strict liability or otherwise, with
+ regard to the Software.  This Agreement shall be construed in accordance
+ with and governed by the laws of the State of Texas.  Copyright and other
+ proprietary matters will be governed by United States laws and international
+ treaties.  IN ANY CASE, ID SHALL NOT BE LIABLE FOR LOSS OF DATA, LOSS OF
+ PROFITS, LOST SAVINGS, SPECIAL, INCIDENTAL, CONSEQUENTIAL, INDIRECT OR OTHER
+ SIMILAR DAMAGES ARISING FROM BREACH OF WARRANTY, BREACH OF CONTRACT,
+ NEGLIGENCE, OR OTHER LEGAL THEORY EVEN IF ID OR ITS AGENT HAS BEEN ADVISED
+ OF THE POSSIBILITY OF SUCH DAMAGES, OR FOR ANY CLAIM BY ANY OTHER PARTY.
+ Some jurisdictions do not allow the exclusion or limitation of incidental or
+ consequential damages, so the above limitation or exclusion may not apply to
+ you.
+ .
+ 	General Provisions.  Neither this Agreement nor any part or portion
+ hereof shall be assigned, sublicensed or otherwise transferred by you.
+ Should any provision of this Agreement be held to be void, invalid,
+ unenforceable or illegal by a court, the validity and enforceability of the
+ other provisions shall not be affected thereby.  If any provision is
+ determined to be unenforceable, you agree to a modification of such
+ provision to provide for enforcement of the provision's intent, to the
+ extent permitted by applicable law.  Failure of a party to enforce any
+ provision of this Agreement shall not constitute or be construed as a
+ waiver of such provision or of the right to enforce such provision.  If
+ you fail to comply with any terms of this Agreement, YOUR LICENSE IS
+ AUTOMATICALLY TERMINATED and you agree to the issuance of an injunction
+ against you in favor of Id.  You agree that Id shall not have to post
+ bond or other security to obtain an injunction against you to prohibit
+ you from violating Id's rights.
+ .
+ 	YOU ACKNOWLEDGE THAT YOU HAVE READ THIS AGREEMENT, THAT YOU
+ UNDERSTAND THIS AGREEMENT, AND UNDERSTAND THAT BY CONTINUING THE
+ DOWNLOADING OF THE SOFTWARE, YOU AGREE TO BE BOUND BY THIS AGREEMENT'S
+ TERMS AND CONDITIONS. YOU FURTHER AGREE THAT, EXCEPT FOR WRITTEN SEPARATE
+ AGREEMENTS BETWEEN ID AND YOU, THIS AGREEMENT IS A COMPLETE AND EXCLUSIVE
+ STATEMENT OF THE RIGHTS AND LIABILITIES OF THE PARTIES.  THIS AGREEMENT
+ SUPERSEDES ALL PRIOR ORAL AGREEMENTS, PROPOSALS OR UNDERSTANDINGS, AND
+ ANY OTHER COMMUNICATIONS BETWEEN ID AND YOU RELATING TO THE SUBJECT MATTER
+ OF THIS AGREEMENT
+
+Files: fmopl.cpp
+Copyright: Â© 2002,2003 Jarek Burczynski (bujar at mame dot net)
+ Â© 1999,2000 Tatsuyuki Satoh , MultiArcadeMachineEmulator development
+License:
+ Copyright (c) 1997-2005, Nicola Salmoria and the MAME team
+ All rights reserved.
+ .
+ Redistribution and use of this code or any derivative works are permitted
+ provided that the following conditions are met:
+ .
+ * Redistributions may not be sold, nor may they be used in a commercial
+ product or activity.
+ .
+ * Redistributions that are modified from the original source must include the
+ complete source code, including the source code for all components used by a
+ binary built from the modified sources. However, as a special exception, the
+ source code distributed need not include anything that is normally distributed
+ (in either source or binary form) with the major components (compiler, kernel,
+ and so on) of the operating system on which the executable runs, unless that
+ component itself accompanies the executable.
+ .
+ * Redistributions must reproduce the above copyright notice, this list of
+ conditions and the following disclaimer in the documentation and/or other
+ materials provided with the distribution.
+ .
+ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+ LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ POSSIBILITY OF SUCH DAMAGE.
+
+Files: debian/*
+Copyright: Â© 2010, Fabian Greffrath <fabian+debian@greffrath.com>
+License: GAP
+ Copying and distribution of the Debian packaging, with or without modification,
+ are permitted in any medium without royalty provided the copyright
+ notice and this notice are preserved.  The Debian packaging is offered as-is,
+ without any warranty.
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/gbp.conf wolf4sdl/debian/gbp.conf
--- Wolf4SDL-1.6-src/debian/gbp.conf	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/gbp.conf	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,3 @@
+[DEFAULT]
+pristine-tar = True
+sign-tags = True
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/man/wolf4sdl.6 wolf4sdl/debian/man/wolf4sdl.6
--- Wolf4SDL-1.6-src/debian/man/wolf4sdl.6	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/man/wolf4sdl.6	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,118 @@
+.TH WOLF4SDL 6 "December 2010" "1.6" "Wolf4SDL"
+
+.SH NAME
+wolf4sdl \- An open-source port of id Software's classic first-person shooter
+
+.SH SYNOPSIS
+.B wolf4sdl
+.RI [ options ]
+
+.B wolf4sdl-wl6
+.RI [ options ]
+
+.B wolf4sdl-wl6a
+.RI [ options ]
+
+.B wolf4sdl-wl1
+.RI [ options ]
+
+.B wolf4sdl-sod
+.RI [ options ]
+
+.B wolf4sdl-sdm
+.RI [ options ]
+
+.SH DESCRIPTION
+.B Wolf4SDL
+is an open-source port of id Software's classic first-person shooter
+.B Wolfenstein 3D
+to the cross-plattform multimedia library
+.B "Simple DirectMedia Layer (SDL)"
+(http://www.libsdl.org). It is meant to keep the original feel while taking advantage of some improvements.
+
+The
+.B wolf4sdl-wl6,
+.B wolf4sdl-wl6a,
+.B wolf4sdl-wl1,
+.B wolf4sdl-sod
+and
+.B wolf4sdl-sdm
+binaries start the 
+.B Wolf3d Full v1.4 GT/ID/Activision,
+.B Wolf3d Full v1.4 Apogee (with ReadThis),
+.B Wolf3d Shareware v1.4,
+.B Spear of Destiny Full and Mission Disks
+and
+.B Spear of Destiny Demo
+games, respectively. The
+.B wolf4sdl
+binary is a symbolic link to one of these and is handled via Debian's
+.B update-alternatives
+mechanism.
+
+.SH OPTIONS
+.TP
+\fB\-\-help\fR
+This help page
+.TP
+\fB\-\-tedlevel\fR <level>
+Starts the game in the given level
+.TP
+\fB\-\-baby\fR
+Sets the difficulty to baby for tedlevel
+.TP
+\fB\-\-easy\fR
+Sets the difficulty to easy for tedlevel
+.TP
+\fB\-\-normal\fR
+Sets the difficulty to normal for tedlevel
+.TP
+\fB\-\-hard\fR
+Sets the difficulty to hard for tedlevel
+.TP
+\fB\-\-nowait\fR
+Skips intro screens
+.TP
+\fB\-\-windowed\fR
+Starts the game in a window
+.TP
+\fB\-\-res\fR <width> <height>
+Sets the screen resolution
+(must be multiple of 320x200 or 320x240)
+.TP
+\fB\-\-resf\fR <w> <h>
+Sets any screen resolution >= 320x200
+(which may result in graphic errors)
+.TP
+\fB\-\-bits\fR <b>
+Sets the screen color depth
+(use this when you have palette/fading problems
+allowed: 8, 16, 24, 32, default: "best" depth)
+.TP
+\fB\-\-joystick\fR <index>
+Use the index\-th joystick if available
+(\-1 to disable joystick, default: 0)
+.TP
+\fB\-\-joystickhat\fR <index>
+Enables movement with the given coolie hat
+.TP
+\fB\-\-samplerate\fR <rate>
+Sets the sound sample rate (given in Hz, default: 44100)
+.TP
+\fB\-\-audiobuffer\fR <size>
+Sets the size of the audio buffer (\-> sound latency)
+(given in bytes, default: 2048 / (44100 / samplerate))
+.TP
+\fB\-\-ignorenumchunks\fR
+Ignores the number of chunks in VGAHEAD.*
+(may be useful for some broken mods)
+
+.SH AUTHORS
+Wolf4SDL v1.6 ($Revision: 232 $)
+.PP
+Ported by Chaos-Software (http://www.chaos-software.de.vu)
+.PP
+Original Wolfenstein 3D by id Software
+.PP
+This manual page was written by Fabian Greffrath <fabian+debian@greffrath.com>
+for the Debian project (but may be used by others).
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/02-enable-shading.patch wolf4sdl/debian/patches/02-enable-shading.patch
--- Wolf4SDL-1.6-src/debian/patches/02-enable-shading.patch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/02-enable-shading.patch	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,24 @@
+Subject: Enable shading support (just because I like it).
+Author: Fabian Greffrath <fabian+debian@greffrath.com>
+
+--- wolf4sdl.orig/Makefile
++++ wolf4sdl/Makefile
+@@ -54,6 +54,7 @@ SRCS += wl_agent.cpp
+ SRCS += wl_atmos.cpp
+ SRCS += wl_cloudsky.cpp
+ SRCS += wl_debug.cpp
++SRCS += wl_shade.cpp
+ SRCS += wl_draw.cpp
+ SRCS += wl_floorceiling.cpp
+ SRCS += wl_game.cpp
+--- wolf4sdl.orig/version.h
++++ wolf4sdl/version.h
+@@ -30,7 +30,7 @@
+ #endif
+ 
+ //#define USE_FEATUREFLAGS    // Enables the level feature flags (see bottom of wl_def.h)
+-//#define USE_SHADING         // Enables shading support (see wl_shade.cpp)
++#define USE_SHADING         // Enables shading support (see wl_shade.cpp)
+ //#define USE_DIR3DSPR        // Enables directional 3d sprites (see wl_dir3dspr.cpp)
+ //#define USE_FLOORCEILINGTEX // Enables floor and ceiling textures stored in the third mapplane (see wl_floorceiling.cpp)
+ //#define USE_HIRES           // Enables high resolution textures/sprites (128x128)
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/10-datadir.patch wolf4sdl/debian/patches/10-datadir.patch
--- Wolf4SDL-1.6-src/debian/patches/10-datadir.patch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/10-datadir.patch	2011-04-27 19:58:18.547203098 +0200
@@ -0,0 +1,181 @@
+Subject: Use /usr/share/games/wolf3d for data files.
+Author: Fabian Greffrath <fabian+debian@greffrath.com>
+
+--- wolf4sdl.orig/id_ca.cpp
++++ wolf4sdl/id_ca.cpp
+@@ -83,13 +83,13 @@ int     numEpisodesMissing = 0;
+ char extension[5]; // Need a string, not constant to change cache files
+ char graphext[5];
+ char audioext[5];
+-static const char gheadname[] = "vgahead.";
+-static const char gfilename[] = "vgagraph.";
+-static const char gdictname[] = "vgadict.";
+-static const char mheadname[] = "maphead.";
+-static const char mfilename[] = "maptemp.";
+-static const char aheadname[] = "audiohed.";
+-static const char afilename[] = "audiot.";
++static const char gheadname[] = DATADIR "vgahead.";
++static const char gfilename[] = DATADIR "vgagraph.";
++static const char gdictname[] = DATADIR "vgadict.";
++static const char mheadname[] = DATADIR "maphead.";
++static const char mfilename[] = DATADIR "maptemp.";
++static const char aheadname[] = DATADIR "audiohed.";
++static const char afilename[] = DATADIR "audiot.";
+ 
+ void CA_CannotOpen(const char *string);
+ 
+@@ -445,7 +445,7 @@ void CA_RLEWexpand (word *source, word *
+ 
+ void CAL_SetupGrFile (void)
+ {
+-    char fname[13];
++    char fname[13 + sizeof(DATADIR)];
+     int handle;
+     byte *compseg;
+ 
+@@ -547,7 +547,7 @@ void CAL_SetupMapFile (void)
+     int     i;
+     int handle;
+     int32_t length,pos;
+-    char fname[13];
++    char fname[13 + sizeof(DATADIR)];
+ 
+ //
+ // load maphead.ext (offsets and tileinfo for map file)
+@@ -571,7 +571,7 @@ void CAL_SetupMapFile (void)
+ // open the data file
+ //
+ #ifdef CARMACIZED
+-    strcpy(fname, "gamemaps.");
++    strcpy(fname, DATADIR "gamemaps.");
+     strcat(fname, extension);
+ 
+     maphandle = open(fname, O_RDONLY | O_BINARY);
+@@ -627,7 +627,7 @@ void CAL_SetupMapFile (void)
+ 
+ void CAL_SetupAudioFile (void)
+ {
+-    char fname[13];
++    char fname[13 + sizeof(DATADIR)];
+ 
+ //
+ // load audiohed.ext (offsets for audio file)
+--- wolf4sdl.orig/id_pm.cpp
++++ wolf4sdl/id_pm.cpp
+@@ -16,7 +16,7 @@ uint8_t **PMPages;
+ 
+ void PM_Startup()
+ {
+-    char fname[13] = "vswap.";
++    char fname[13 + sizeof(DATADIR)] = DATADIR "vswap.";
+     strcat(fname,extension);
+ 
+     FILE *file = fopen(fname,"rb");
+--- wolf4sdl.orig/version.h
++++ wolf4sdl/version.h
+@@ -3,6 +3,10 @@
+ 
+ #ifndef VERSIONALREADYCHOSEN              // used for batch compiling
+ 
++#ifndef DATADIR
++#define DATADIR ""
++#endif
++
+ /* Defines used for different versions */
+ 
+ //#define SPEAR
+--- wolf4sdl.orig/wl_menu.cpp
++++ wolf4sdl/wl_menu.cpp
+@@ -4029,12 +4029,12 @@ CheckForEpisodes (void)
+ //
+ #ifdef JAPAN
+ #ifdef JAPDEMO
+-    if(!stat("vswap.wj1", &statbuf))
++    if(!stat(DATADIR "vswap.wj1", &statbuf))
+     {
+         strcpy (extension, "wj1");
+         numEpisodesMissing = 5;
+ #else
+-    if(!stat("vswap.wj6", &statbuf))
++    if(!stat(DATADIR "vswap.wj6", &statbuf))
+     {
+         strcpy (extension, "wj6");
+ #endif
+@@ -4052,7 +4052,7 @@ CheckForEpisodes (void)
+ // ENGLISH
+ //
+ #ifdef UPLOAD
+-    if(!stat("vswap.wl1", &statbuf))
++    if(!stat(DATADIR "vswap.wl1", &statbuf))
+     {
+         strcpy (extension, "wl1");
+         numEpisodesMissing = 5;
+@@ -4061,7 +4061,7 @@ CheckForEpisodes (void)
+         Quit ("NO WOLFENSTEIN 3-D DATA FILES to be found!");
+ #else
+ #ifndef SPEAR
+-    if(!stat("vswap.wl6", &statbuf))
++    if(!stat(DATADIR "vswap.wl6", &statbuf))
+     {
+         strcpy (extension, "wl6");
+         NewEmenu[2].active =
+@@ -4074,7 +4074,7 @@ CheckForEpisodes (void)
+     }
+     else
+     {
+-        if(!stat("vswap.wl3", &statbuf))
++        if(!stat(DATADIR "vswap.wl3", &statbuf))
+         {
+             strcpy (extension, "wl3");
+             numEpisodesMissing = 3;
+@@ -4082,7 +4082,7 @@ CheckForEpisodes (void)
+         }
+         else
+         {
+-            if(!stat("vswap.wl1", &statbuf))
++            if(!stat(DATADIR "vswap.wl1", &statbuf))
+             {
+                 strcpy (extension, "wl1");
+                 numEpisodesMissing = 5;
+@@ -4099,28 +4099,28 @@ CheckForEpisodes (void)
+ #ifndef SPEARDEMO
+     if(param_mission == 0)
+     {
+-        if(!stat("vswap.sod", &statbuf))
++        if(!stat(DATADIR "vswap.sod", &statbuf))
+             strcpy (extension, "sod");
+         else
+             Quit ("NO SPEAR OF DESTINY DATA FILES TO BE FOUND!");
+     }
+     else if(param_mission == 1)
+     {
+-        if(!stat("vswap.sd1", &statbuf))
++        if(!stat(DATADIR "vswap.sd1", &statbuf))
+             strcpy (extension, "sd1");
+         else
+             Quit ("NO SPEAR OF DESTINY DATA FILES TO BE FOUND!");
+     }
+     else if(param_mission == 2)
+     {
+-        if(!stat("vswap.sd2", &statbuf))
++        if(!stat(DATADIR "vswap.sd2", &statbuf))
+             strcpy (extension, "sd2");
+         else
+             Quit ("NO SPEAR OF DESTINY DATA FILES TO BE FOUND!");
+     }
+     else if(param_mission == 3)
+     {
+-        if(!stat("vswap.sd3", &statbuf))
++        if(!stat(DATADIR "vswap.sd3", &statbuf))
+             strcpy (extension, "sd3");
+         else
+             Quit ("NO SPEAR OF DESTINY DATA FILES TO BE FOUND!");
+@@ -4130,7 +4130,7 @@ CheckForEpisodes (void)
+     strcpy (graphext, "sod");
+     strcpy (audioext, "sod");
+ #else
+-    if(!stat("vswap.sdm", &statbuf))
++    if(!stat(DATADIR "vswap.sdm", &statbuf))
+     {
+         strcpy (extension, "sdm");
+     }
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/21-compiler-warnings.patch wolf4sdl/debian/patches/21-compiler-warnings.patch
--- Wolf4SDL-1.6-src/debian/patches/21-compiler-warnings.patch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/21-compiler-warnings.patch	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,681 @@
+Subject: Fix some compiler warnings so the code compiles cleanly with
+ g++-4.5 and CFLAGS+="-Wall -Wno-sign-compare -Wno-switch".
+Author: Fabian Greffrath <fabian+debian@greffrath.com>
+
+--- wolf4sdl.orig/fmopl.cpp
++++ wolf4sdl/fmopl.cpp
+@@ -1955,19 +1955,21 @@ static void OPLSetUpdateHandler(FM_OPL *
+ 	OPL->UpdateParam = param;
+ }
+ 
++/*
+ static int OPLWrite(FM_OPL *OPL,int a,int v)
+ {
+ 	if( !(a&1) )
+-	{	/* address port */
++	{	// address port
+ 		OPL->address = v & 0xff;
+ 	}
+ 	else
+-	{	/* data port */
++	{	// data port
+ 		if(OPL->UpdateHandler) OPL->UpdateHandler(OPL->UpdateParam,0);
+ 		OPLWriteReg(OPL,OPL->address,v);
+ 	}
+ 	return OPL->status>>7;
+ }
++*/
+ 
+ static unsigned char OPLRead(FM_OPL *OPL,int a)
+ {
+--- wolf4sdl.orig/id_ca.cpp
++++ wolf4sdl/id_ca.cpp
+@@ -25,7 +25,6 @@ loaded into the data segment
+ #endif
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ #define THREEBYTEGRSTARTS
+ 
+@@ -693,7 +692,7 @@ void CA_Startup (void)
+ 
+ void CA_Shutdown (void)
+ {
+-    int i,start;
++    int i,start = STARTADLIBSOUNDS;
+ 
+     if(maphandle != -1)
+         close(maphandle);
+@@ -803,7 +802,7 @@ void CA_CacheAdlibSoundChunk (int chunk)
+ 
+ void CA_LoadAllSounds (void)
+ {
+-    unsigned start,i;
++    unsigned start = STARTADLIBSOUNDS,i;
+ 
+     switch (oldsoundmode)
+     {
+@@ -1039,7 +1038,7 @@ void CA_CacheMap (int mapnum)
+     int32_t   pos,compressed;
+     int       plane;
+     word     *dest;
+-    memptr    bigbufferseg;
++    memptr    bigbufferseg = 0;
+     unsigned  size;
+     word     *source;
+ #ifdef CARMACIZED
+--- wolf4sdl.orig/id_pm.cpp
++++ wolf4sdl/id_pm.cpp
+@@ -82,7 +82,7 @@ void PM_Startup()
+     uint8_t *ptr = (uint8_t *) PMPageData;
+     for(i = 0; i < ChunksInFile; i++)
+     {
+-        if(i >= PMSpriteStart && i < PMSoundStart || i == ChunksInFile - 1)
++        if((i >= PMSpriteStart && i < PMSoundStart) || i == ChunksInFile - 1)
+         {
+             size_t offs = ptr - (uint8_t *) PMPageData;
+ 
+--- wolf4sdl.orig/id_sd.cpp
++++ wolf4sdl/id_sd.cpp
+@@ -35,7 +35,6 @@
+ #include "fmopl.h"
+ #endif
+ 
+-#pragma hdrstop
+ 
+ #define ORIGSAMPLERATE 7042
+ 
+@@ -784,6 +783,7 @@ SDL_ShutAL(void)
+ //      SDL_CleanAL() - Totally shuts down the AdLib card
+ //
+ ///////////////////////////////////////////////////////////////////////////
++/*
+ static void
+ SDL_CleanAL(void)
+ {
+@@ -793,6 +793,7 @@ SDL_CleanAL(void)
+     for (i = 1; i < 0xf5; i++)
+         alOut(i, 0);
+ }
++*/
+ 
+ ///////////////////////////////////////////////////////////////////////////
+ //
+@@ -812,6 +813,7 @@ SDL_StartAL(void)
+ //              emulating an AdLib) present
+ //
+ ///////////////////////////////////////////////////////////////////////////
++/*
+ static boolean
+ SDL_DetectAdLib(void)
+ {
+@@ -823,6 +825,7 @@ SDL_DetectAdLib(void)
+ 
+     return true;
+ }
++*/
+ 
+ ////////////////////////////////////////////////////////////////////////////
+ //
+@@ -849,12 +852,14 @@ SDL_ShutDevice(void)
+ //      SDL_CleanDevice() - totally shuts down all sound devices
+ //
+ ///////////////////////////////////////////////////////////////////////////
++/*
+ static void
+ SDL_CleanDevice(void)
+ {
+     if ((SoundMode == sdm_AdLib) || (MusicMode == smm_AdLib))
+         SDL_CleanAL();
+ }
++*/
+ 
+ ///////////////////////////////////////////////////////////////////////////
+ //
+--- wolf4sdl.orig/id_us_1.cpp
++++ wolf4sdl/id_us_1.cpp
+@@ -22,7 +22,6 @@
+ 
+ #include "wl_def.h"
+ 
+-#pragma	hdrstop
+ 
+ #if _MSC_VER == 1200            // Visual C++ 6
+ 	#define vsnprintf _vsnprintf
+@@ -177,7 +176,7 @@ void
+ US_PrintUnsigned(longword n)
+ {
+ 	char	buffer[32];
+-	sprintf(buffer, "%lu", n);
++	sprintf(buffer, "%lu", (long unsigned int) n);
+ 
+ 	US_Print(buffer);
+ }
+@@ -488,11 +487,11 @@ US_LineInput(int x,int y,char *buf,const
+ {
+ 	boolean		redraw,
+ 				cursorvis,cursormoved,
+-				done,result, checkkey;
++				done,result = false, checkkey;
+ 	ScanCode	sc;
+ 	char		c;
+ 	char		s[MaxString],olds[MaxString];
+-	int         cursor,len;
++	int         cursor,len = 0;
+ 	word		i,
+ 				w,h,
+ 				temp;
+@@ -530,7 +529,7 @@ US_LineInput(int x,int y,char *buf,const
+ 		curtime = GetTimeCount();
+ 
+ 		// After each direction change accept the next change after 250 ms and then everz 125 ms
+-		if(ci.dir != lastdir || curtime - lastdirtime > TickBase / 4 && curtime - lastdirmovetime > TickBase / 8)
++		if(ci.dir != lastdir || (curtime - lastdirtime > TickBase / 4 && curtime - lastdirmovetime > TickBase / 8))
+ 		{
+ 			if(ci.dir != lastdir)
+ 			{
+@@ -558,7 +557,7 @@ US_LineInput(int x,int y,char *buf,const
+ 					if(!s[cursor])
+ 					{
+ 						USL_MeasureString(s,&w,&h);
+-						if(len >= maxchars || maxwidth && w >= maxwidth) break;
++						if(len >= maxchars || (maxwidth && w >= maxwidth)) break;
+ 
+ 						s[cursor] = ' ';
+ 						s[cursor + 1] = 0;
+@@ -572,7 +571,7 @@ US_LineInput(int x,int y,char *buf,const
+ 					if(!s[cursor])
+ 					{
+ 						USL_MeasureString(s,&w,&h);
+-						if(len >= maxchars || maxwidth && w >= maxwidth) break;
++						if(len >= maxchars || (maxwidth && w >= maxwidth)) break;
+ 						s[cursor + 1] = 0;
+ 					}
+ 					s[cursor] = USL_RotateChar(s[cursor], 1);
+@@ -584,7 +583,7 @@ US_LineInput(int x,int y,char *buf,const
+ 					if(!s[cursor])
+ 					{
+ 						USL_MeasureString(s,&w,&h);
+-						if(len >= maxchars || maxwidth && w >= maxwidth) break;
++						if(len >= maxchars || (maxwidth && w >= maxwidth)) break;
+ 						s[cursor + 1] = 0;
+ 					}
+ 					s[cursor] = USL_RotateChar(s[cursor], -1);
+--- wolf4sdl.orig/id_vl.cpp
++++ wolf4sdl/id_vl.cpp
+@@ -2,7 +2,6 @@
+ 
+ #include <string.h>
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ // Uncomment the following line, if you get destination out of bounds
+ // assertion errors and want to ignore them during debugging
+--- wolf4sdl.orig/wl_act1.cpp
++++ wolf4sdl/wl_act1.cpp
+@@ -1,7 +1,6 @@
+ // WL_ACT1.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ /*
+ =============================================================================
+@@ -17,6 +16,7 @@ statobj_t       *laststatobj;
+ 
+ 
+ struct
++statinfo_t
+ {
+     short      picnum;
+     wl_stat_t  type;
+@@ -844,7 +844,7 @@ void MovePWalls (void)
+             pwally += dy;
+ 
+             if (actorat[pwallx+dx][pwally+dy]
+-                || xl<=pwallx+dx && pwallx+dx<=xh && yl<=pwally+dy && pwally+dy<=yh)
++                || (xl<=pwallx+dx && pwallx+dx<=xh && yl<=pwally+dy && pwally+dy<=yh))
+             {
+                 pwallstate = 0;
+                 tilemap[pwallx][pwally] = oldtile;
+--- wolf4sdl.orig/wl_act2.cpp
++++ wolf4sdl/wl_act2.cpp
+@@ -3,7 +3,6 @@
+ #include <stdio.h>
+ #include <math.h>
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ /*
+ =============================================================================
+@@ -307,7 +306,7 @@ boolean ProjectileTryMove (objtype *ob)
+ void T_Projectile (objtype *ob)
+ {
+     int32_t deltax,deltay;
+-    int     damage;
++    int     damage = 0;
+     int32_t speed;
+ 
+     speed = (int32_t)ob->speed*tics;
+--- wolf4sdl.orig/wl_agent.cpp
++++ wolf4sdl/wl_agent.cpp
+@@ -1,7 +1,6 @@
+ // WL_AGENT.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ /*
+ =============================================================================
+--- wolf4sdl.orig/wl_debug.cpp
++++ wolf4sdl/wl_debug.cpp
+@@ -7,7 +7,6 @@
+ #endif
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ #ifdef USE_CLOUDSKY
+ #include "wl_cloudsky.h"
+@@ -52,7 +51,7 @@ void SimpleScaleShape (int xcenter, int
+ 
+ int     maporgx;
+ int     maporgy;
+-enum {mapview,tilemapview,actoratview,visview}  viewtype;
++enum viewtype_t {mapview,tilemapview,actoratview,visview}  viewtype;
+ 
+ void ViewMap (void);
+ 
+@@ -181,7 +180,7 @@ void BasicOverhead (void)
+     // left side (filtered)
+ 
+     uintptr_t tile;
+-    int color;
++    int color = 0;
+     offx -= 128;
+ 
+     for(x=0;x<MAPSIZE;x++)
+--- wolf4sdl.orig/wl_draw.cpp
++++ wolf4sdl/wl_draw.cpp
+@@ -1,7 +1,6 @@
+ // WL_DRAW.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ #include "wl_cloudsky.h"
+ #include "wl_atmos.h"
+@@ -484,7 +483,7 @@ void HitHorizWall (void)
+ 
+ void HitHorizDoor (void)
+ {
+-    int doorpage;
++    int doorpage = DOORWALL;
+     int doornum;
+     int texture;
+ 
+@@ -549,7 +548,7 @@ void HitHorizDoor (void)
+ 
+ void HitVertDoor (void)
+ {
+-    int doorpage;
++    int doorpage = DOORWALL+1;
+     int doornum;
+     int texture;
+ 
+@@ -1093,8 +1092,8 @@ void CalcTics (void)
+ 
+ void AsmRefresh()
+ {
+-    int32_t xstep,ystep;
+-    longword xpartial,ypartial;
++    int32_t xstep = 0,ystep = 0;
++    longword xpartial = 0,ypartial = 0;
+     boolean playerInPushwallBackTile = tilemap[focaltx][focalty] == 64;
+ 
+     for(pixx=0;pixx<viewwidth;pixx++)
+@@ -1149,8 +1148,8 @@ void AsmRefresh()
+         // Special treatment when player is in back tile of pushwall
+         if(playerInPushwallBackTile)
+         {
+-            if(    pwalldir == di_east && xtilestep ==  1
+-                || pwalldir == di_west && xtilestep == -1)
++            if(    (pwalldir == di_east && xtilestep ==  1)
++                || (pwalldir == di_west && xtilestep == -1))
+             {
+                 int32_t yintbuf = yintercept - ((ystep * (64 - pwallpos)) >> 6);
+                 if((yintbuf >> 16) == focalty)   // ray hits pushwall back?
+@@ -1166,8 +1165,8 @@ void AsmRefresh()
+                     continue;
+                 }
+             }
+-            else if(pwalldir == di_south && ytilestep ==  1
+-                ||  pwalldir == di_north && ytilestep == -1)
++            else if((pwalldir == di_south && ytilestep ==  1)
++                ||  (pwalldir == di_north && ytilestep == -1))
+             {
+                 int32_t xintbuf = xintercept - ((xstep * (64 - pwallpos)) >> 6);
+                 if((xintbuf >> 16) == focaltx)   // ray hits pushwall back?
+@@ -1237,8 +1236,8 @@ vertentry:
+                                 pwallposnorm = pwallpos;
+                                 pwallposinv = 64-pwallpos;
+                             }
+-                            if(pwalldir == di_east && xtile==pwallx && ((uint32_t)yintercept>>16)==pwally
+-                                || pwalldir == di_west && !(xtile==pwallx && ((uint32_t)yintercept>>16)==pwally))
++                            if((pwalldir == di_east && xtile==pwallx && ((uint32_t)yintercept>>16)==pwally)
++                                || (pwalldir == di_west && !(xtile==pwallx && ((uint32_t)yintercept>>16)==pwally)))
+                             {
+                                 yintbuf=yintercept+((ystep*pwallposnorm)>>6);
+                                 if((yintbuf>>16)!=(yintercept>>16))
+@@ -1267,13 +1266,13 @@ vertentry:
+                         {
+                             int pwallposi = pwallpos;
+                             if(pwalldir==di_north) pwallposi = 64-pwallpos;
+-                            if(pwalldir==di_south && (word)yintercept<(pwallposi<<10)
+-                                || pwalldir==di_north && (word)yintercept>(pwallposi<<10))
++                            if((pwalldir==di_south && (word)yintercept<(pwallposi<<10))
++                                || (pwalldir==di_north && (word)yintercept>(pwallposi<<10)))
+                             {
+                                 if(((uint32_t)yintercept>>16)==pwally && xtile==pwallx)
+                                 {
+-                                    if(pwalldir==di_south && (int32_t)((word)yintercept)+ystep<(pwallposi<<10)
+-                                            || pwalldir==di_north && (int32_t)((word)yintercept)+ystep>(pwallposi<<10))
++                                    if((pwalldir==di_south && (int32_t)((word)yintercept)+ystep<(pwallposi<<10))
++                                            || (pwalldir==di_north && (int32_t)((word)yintercept)+ystep>(pwallposi<<10)))
+                                         goto passvert;
+ 
+                                     if(pwalldir==di_south)
+@@ -1306,8 +1305,8 @@ vertentry:
+                                 }
+                                 else
+                                 {
+-                                    if(pwalldir==di_south && (int32_t)((word)yintercept)+ystep>(pwallposi<<10)
+-                                            || pwalldir==di_north && (int32_t)((word)yintercept)+ystep<(pwallposi<<10))
++                                    if((pwalldir==di_south && (int32_t)((word)yintercept)+ystep>(pwallposi<<10))
++                                            || (pwalldir==di_north && (int32_t)((word)yintercept)+ystep<(pwallposi<<10)))
+                                         goto passvert;
+ 
+                                     if(pwalldir==di_south)
+@@ -1392,8 +1391,8 @@ horizentry:
+                                 pwallposnorm = pwallpos;
+                                 pwallposinv = 64-pwallpos;
+                             }
+-                            if(pwalldir == di_south && ytile==pwally && ((uint32_t)xintercept>>16)==pwallx
+-                                || pwalldir == di_north && !(ytile==pwally && ((uint32_t)xintercept>>16)==pwallx))
++                            if((pwalldir == di_south && ytile==pwally && ((uint32_t)xintercept>>16)==pwallx)
++                                || (pwalldir == di_north && !(ytile==pwally && ((uint32_t)xintercept>>16)==pwallx)))
+                             {
+                                 xintbuf=xintercept+((xstep*pwallposnorm)>>6);
+                                 if((xintbuf>>16)!=(xintercept>>16))
+@@ -1422,13 +1421,13 @@ horizentry:
+                         {
+                             int pwallposi = pwallpos;
+                             if(pwalldir==di_west) pwallposi = 64-pwallpos;
+-                            if(pwalldir==di_east && (word)xintercept<(pwallposi<<10)
+-                                    || pwalldir==di_west && (word)xintercept>(pwallposi<<10))
++                            if((pwalldir==di_east && (word)xintercept<(pwallposi<<10))
++                                    || (pwalldir==di_west && (word)xintercept>(pwallposi<<10)))
+                             {
+                                 if(((uint32_t)xintercept>>16)==pwallx && ytile==pwally)
+                                 {
+-                                    if(pwalldir==di_east && (int32_t)((word)xintercept)+xstep<(pwallposi<<10)
+-                                            || pwalldir==di_west && (int32_t)((word)xintercept)+xstep>(pwallposi<<10))
++                                    if((pwalldir==di_east && (int32_t)((word)xintercept)+xstep<(pwallposi<<10))
++                                            || (pwalldir==di_west && (int32_t)((word)xintercept)+xstep>(pwallposi<<10)))
+                                         goto passhoriz;
+ 
+                                     if(pwalldir==di_east)
+@@ -1461,8 +1460,8 @@ horizentry:
+                                 }
+                                 else
+                                 {
+-                                    if(pwalldir==di_east && (int32_t)((word)xintercept)+xstep>(pwallposi<<10)
+-                                            || pwalldir==di_west && (int32_t)((word)xintercept)+xstep<(pwallposi<<10))
++                                    if((pwalldir==di_east && (int32_t)((word)xintercept)+xstep>(pwallposi<<10))
++                                            || (pwalldir==di_west && (int32_t)((word)xintercept)+xstep<(pwallposi<<10)))
+                                         goto passhoriz;
+ 
+                                     if(pwalldir==di_east)
+--- wolf4sdl.orig/wl_game.cpp
++++ wolf4sdl/wl_game.cpp
+@@ -3,7 +3,6 @@
+ #include <math.h>
+ #include "wl_def.h"
+ #include <SDL_mixer.h>
+-#pragma hdrstop
+ 
+ #ifdef MYPROFILE
+ #include <TIME.H>
+@@ -1178,7 +1177,8 @@ void PlayDemo (int demonumber)
+     NewGame (1,0);
+     gamestate.mapon = *demoptr++;
+     gamestate.difficulty = gd_hard;
+-    length = READWORD(*(uint8_t **)&demoptr);
++    length = demoptr[0] | demoptr[1] << 8;
++    demoptr+=2;
+     // TODO: Seems like the original demo format supports 16 MB demos
+     //       But T_DEM00 and T_DEM01 of Wolf have a 0xd8 as third length size...
+     demoptr++;
+--- wolf4sdl.orig/wl_inter.cpp
++++ wolf4sdl/wl_inter.cpp
+@@ -1,7 +1,6 @@
+ // WL_INTER.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ LRstruct LevelRatios[LRpack];
+ int32_t lastBreathTime = 0;
+@@ -386,7 +385,7 @@ Write (int x, int y, const char *string)
+                     break;
+ 
+                 default:
+-                    VWB_DrawPic (nx, ny, alpha[ch]);
++                    VWB_DrawPic (nx, ny, alpha[(int)ch]);
+             }
+             nx += 16;
+         }
+--- wolf4sdl.orig/wl_main.cpp
++++ wolf4sdl/wl_main.cpp
+@@ -7,7 +7,6 @@
+ #endif
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ #include "wl_atmos.h"
+ #include <SDL_syswm.h>
+ 
+@@ -1441,7 +1440,7 @@ void Quit (const char *errorStr, ...)
+     if (!pictable)  // don't try to display the red box before it's loaded
+     {
+         ShutdownId();
+-        if (error && *error)
++        if (*error)
+         {
+ #ifdef NOTYET
+             SetTextCursor(0,0);
+@@ -1455,7 +1454,7 @@ void Quit (const char *errorStr, ...)
+         exit(1);
+     }
+ 
+-    if (!error || !*error)
++    if (!*error)
+     {
+ #ifdef NOTYET
+         #ifndef JAPAN
+@@ -1475,7 +1474,7 @@ void Quit (const char *errorStr, ...)
+ 
+     ShutdownId ();
+ 
+-    if (error && *error)
++    if (*error)
+     {
+ #ifdef NOTYET
+         memcpy((byte *)0xb8000,screen+7,7*160);
+@@ -1489,7 +1488,7 @@ void Quit (const char *errorStr, ...)
+         exit(1);
+     }
+     else
+-    if (!error || !(*error))
++    if (!*error)
+     {
+ #ifdef NOTYET
+         #ifndef JAPAN
+@@ -1726,7 +1725,7 @@ void CheckParameters(int argc, char *arg
+                 screenWidth = atoi(argv[++i]);
+                 screenHeight = atoi(argv[++i]);
+                 unsigned factor = screenWidth / 320;
+-                if(screenWidth % 320 || screenHeight != 200 * factor && screenHeight != 240 * factor)
++                if(screenWidth % 320 || (screenHeight != 200 * factor && screenHeight != 240 * factor))
+                     printf("Screen size must be a multiple of 320x200 or 320x240!\n"), hasError = true;
+             }
+         }
+--- wolf4sdl.orig/wl_menu.cpp
++++ wolf4sdl/wl_menu.cpp
+@@ -15,7 +15,6 @@
+ #endif
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ extern int lastgamemusicoffset;
+ extern int numEpisodesMissing;
+@@ -914,7 +913,7 @@ CP_CheckQuick (ScanCode scancode)
+ #ifdef SPANISH
+             if (Confirm (ENDGAMESTR))
+ #else
+-            if (Confirm (endStrings[US_RndT () & 0x7 + (US_RndT () & 1)]))
++            if (Confirm (endStrings[US_RndT () & (0x7 + (US_RndT () & 1))]))
+ #endif
+ #endif
+             {
+@@ -2131,7 +2130,7 @@ CustomControls (int)
+ void
+ DefineMouseBtns (void)
+ {
+-    CustomCtrls mouseallowed = { 0, 1, 1, 1 };
++    CustomCtrls mouseallowed = {{ 0, 1, 1, 1 }};
+     EnterCtrlData (2, &mouseallowed, DrawCustMouse, PrintCustMouse, MOUSE);
+ }
+ 
+@@ -2143,7 +2142,7 @@ DefineMouseBtns (void)
+ void
+ DefineJoyBtns (void)
+ {
+-    CustomCtrls joyallowed = { 1, 1, 1, 1 };
++    CustomCtrls joyallowed = {{ 1, 1, 1, 1 }};
+     EnterCtrlData (5, &joyallowed, DrawCustJoy, PrintCustJoy, JOYSTICK);
+ }
+ 
+@@ -2155,7 +2154,7 @@ DefineJoyBtns (void)
+ void
+ DefineKeyBtns (void)
+ {
+-    CustomCtrls keyallowed = { 1, 1, 1, 1 };
++    CustomCtrls keyallowed = {{ 1, 1, 1, 1 }};
+     EnterCtrlData (8, &keyallowed, DrawCustKeybd, PrintCustKeybd, KEYBOARDBTNS);
+ }
+ 
+@@ -2167,7 +2166,7 @@ DefineKeyBtns (void)
+ void
+ DefineKeyMove (void)
+ {
+-    CustomCtrls keyallowed = { 1, 1, 1, 1 };
++    CustomCtrls keyallowed = {{ 1, 1, 1, 1 }};
+     EnterCtrlData (10, &keyallowed, DrawCustKeys, PrintCustKeys, KEYBOARDMOVE);
+ }
+ 
+@@ -2184,7 +2183,7 @@ void
+ EnterCtrlData (int index, CustomCtrls * cust, void (*DrawRtn) (int), void (*PrintRtn) (int),
+                int type)
+ {
+-    int j, exit, tick, redraw, which, x, picked, lastFlashTime;
++    int j, exit, tick, redraw, which = 0, x = 0, picked, lastFlashTime;
+     ControlInfo ci;
+ 
+ 
+@@ -2235,7 +2234,7 @@ EnterCtrlData (int index, CustomCtrls *
+         //
+         // CHANGE BUTTON VALUE?
+         //
+-        if ((type != KEYBOARDBTNS && type != KEYBOARDMOVE) && (ci.button0 | ci.button1 | ci.button2 | ci.button3) ||
++        if (((type != KEYBOARDBTNS && type != KEYBOARDMOVE) && (ci.button0 | ci.button1 | ci.button2 | ci.button3)) ||
+             ((type == KEYBOARDBTNS || type == KEYBOARDMOVE) && LastScan == sc_Enter))
+         {
+             lastFlashTime = GetTimeCount();
+@@ -2356,7 +2355,7 @@ EnterCtrlData (int index, CustomCtrls *
+                 //
+                 // EXIT INPUT?
+                 //
+-                if (IN_KeyDown (sc_Escape) || type != JOYSTICK && ci.button1)
++                if (IN_KeyDown (sc_Escape) || (type != JOYSTICK && ci.button1))
+                 {
+                     picked = 1;
+                     SD_PlaySound (ESCPRESSEDSND);
+@@ -2936,7 +2935,7 @@ CP_Quit (int)
+ #ifdef SPANISH
+     if (Confirm (ENDGAMESTR))
+ #else
+-    if (Confirm (endStrings[US_RndT () & 0x7 + (US_RndT () & 1)]))
++    if (Confirm (endStrings[US_RndT () & (0x7 + (US_RndT () & 1))]))
+ #endif
+ 
+ #endif
+@@ -3400,7 +3399,7 @@ HandleMenu (CP_iteminfo * item_i, CP_ite
+         if (ci.button0 || Keyboard[sc_Space] || Keyboard[sc_Enter])
+             exit = 1;
+ 
+-        if (ci.button1 && !Keyboard[sc_Alt] || Keyboard[sc_Escape])
++        if ((ci.button1 && !Keyboard[sc_Alt]) || Keyboard[sc_Escape])
+             exit = 2;
+ 
+     }
+@@ -3847,7 +3846,7 @@ Message (const char *string)
+             h += font->height;
+         }
+         else
+-            w += font->width[string[i]];
++            w += font->width[(int8_t)string[i]];
+     }
+ 
+     if (w + 10 > mw)
+--- wolf4sdl.orig/wl_play.cpp
++++ wolf4sdl/wl_play.cpp
+@@ -1,7 +1,6 @@
+ // WL_PLAY.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ #include "wl_cloudsky.h"
+ #include "wl_shade.h"
+@@ -688,8 +687,6 @@ void CheckKeys (void)
+ #endif
+            scan == sc_F9 || scan == sc_F7 || scan == sc_F8)     // pop up quit dialog
+     {
+-        short oldmapon = gamestate.mapon;
+-        short oldepisode = gamestate.episode;
+         ClearMemory ();
+         ClearSplitVWB ();
+         US_ControlPanel (scan);
+--- wolf4sdl.orig/wl_state.cpp
++++ wolf4sdl/wl_state.cpp
+@@ -1,7 +1,6 @@
+ // WL_STATE.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ /*
+ =============================================================================
+--- wolf4sdl.orig/wl_text.cpp
++++ wolf4sdl/wl_text.cpp
+@@ -1,7 +1,6 @@
+ // WL_TEXT.C
+ 
+ #include "wl_def.h"
+-#pragma hdrstop
+ 
+ /*
+ =============================================================================
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/31-pc-speaker.patch wolf4sdl/debian/patches/31-pc-speaker.patch
--- Wolf4SDL-1.6-src/debian/patches/31-pc-speaker.patch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/31-pc-speaker.patch	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,288 @@
+Subject: PC speaker emulation
+Origin: http://www.fileden.com/files/2010/12/31/3049394/pc-speaker-by-ljbade-build255.patch
+Forwarded: http://www.shoppark.de/cgi-bin/abrakadabra.cgi?id=chaosdeluxe
+Author: Leith Bade (ljbade) <http://wolf3d.darkbb.com/t1588-wolf4sdl-with-pc-speaker-sound-emulation>
+Reviewed-by: chrisl <chrislcenter-mamoru@yahoo.com.mx>
+
+--- wolf4sdl.orig/id_sd.cpp
++++ wolf4sdl/id_sd.cpp
+@@ -400,28 +400,29 @@ SDL_PCStopSampleInIRQ(void)
+         _asm    and     al,0xfd                 // ~2
+         _asm    out     0x61,al
+ }
++#endif
+ 
+ ///////////////////////////////////////////////////////////////////////////
+ //
+ //      SDL_PCPlaySound() - Plays the specified sound on the PC speaker
+ //
+ ///////////////////////////////////////////////////////////////////////////
+-#ifdef  _MUSE_
+-void
+-#else
+ static void
+-#endif
+ SDL_PCPlaySound(PCSound *sound)
+ {
++/*
+ //      _asm    pushfd
+         _asm    cli
++*/
+ 
+         pcLastSample = -1;
+         pcLengthLeft = sound->common.length;
+         pcSound = sound->data;
+ 
++/*
+ //      _asm    popfd
+         _asm    sti
++*/
+ }
+ 
+ ///////////////////////////////////////////////////////////////////////////
+@@ -429,24 +430,24 @@ SDL_PCPlaySound(PCSound *sound)
+ //      SDL_PCStopSound() - Stops the current sound playing on the PC Speaker
+ //
+ ///////////////////////////////////////////////////////////////////////////
+-#ifdef  _MUSE_
+-void
+-#else
+ static void
+-#endif
+ SDL_PCStopSound(void)
+ {
++/*
+ //      _asm    pushfd
+         _asm    cli
++*/
+ 
+         pcSound = 0;
+ 
++/*
+         _asm    in      al,0x61                 // Turn the speaker off
+         _asm    and     al,0xfd                 // ~2
+         _asm    out     0x61,al
+ 
+ //      _asm    popfd
+         _asm    sti
++*/
+ }
+ 
+ ///////////////////////////////////////////////////////////////////////////
+@@ -457,20 +458,141 @@ SDL_PCStopSound(void)
+ static void
+ SDL_ShutPC(void)
+ {
++/*
+ //      _asm    pushfd
+         _asm    cli
++*/
+ 
+         pcSound = 0;
+ 
++/*
+         _asm    in      al,0x61                 // Turn the speaker & gate off
+         _asm    and     al,0xfc                 // ~3
+         _asm    out     0x61,al
+ 
+ //      _asm    popfd
+         _asm    sti
++*/
+ }
+ 
+-#endif
++// Adapted from Chocolate Doom (chocolate-doom/pcsound/pcsound_sdl.c)
++#define SQUARE_WAVE_AMP 0x2000
++
++static void SDL_PCMixCallback(void *udata, Uint8 *stream, int len)
++{
++    static int current_remaining = 0;
++    static int current_freq = 0;
++    static int phase_offset = 0;
++
++    Sint16 *leftptr;
++    Sint16 *rightptr;
++    Sint16 this_value;
++    int oldfreq;
++    int i;
++    int nsamples;
++
++    // Number of samples is quadrupled, because of 16-bit and stereo
++
++    nsamples = len / 4;
++
++    leftptr = (Sint16 *) stream;
++    rightptr = ((Sint16 *) stream) + 1;
++
++    // Fill the output buffer
++
++    for (i=0; i<nsamples; ++i)
++    {
++        // Has this sound expired? If so, retrieve the next frequency
++
++        while (current_remaining == 0)
++        {
++            oldfreq = current_freq;
++
++            // Get the next frequency to play
++
++            if(pcSound)
++            {
++                if(*pcSound!=pcLastSample)
++                {
++                    pcLastSample=*pcSound;
++
++                    if(pcLastSample)
++                        // The PC PIC counts down at 1.193180MHz
++                        // So pwm_freq = counter_freq / reload_value
++                        // reload_value = pcLastSample * 60 (see SDL_DoFX)
++                        current_freq = 1193180 / (pcLastSample * 60);
++                    else
++                        current_freq = 0;
++
++                    // The PC speaker sample rate is 140Hz (see SDL_t0SlowAsmService)
++                    current_remaining = param_samplerate / 140;
++                }
++                pcSound++;
++                pcLengthLeft--;
++                if(!pcLengthLeft)
++                {
++                    pcSound=0;
++                    SoundNumber=(soundnames)0;
++                    SoundPriority=0;
++                }
++            }
++            else
++            {
++                current_freq = 0;
++                current_remaining = 1;
++            }
++
++            if (current_freq != 0)
++            {
++                // Adjust phase to match to the new frequency.
++                // This gives us a smooth transition between different tones,
++                // with no impulse changes.
++
++                phase_offset = (phase_offset * oldfreq) / current_freq;
++            }
++        }
++
++        // Set the value for this sample.
++
++        if (current_freq == 0)
++        {
++            // Silence
++
++            this_value = 0;
++        }
++        else
++        {
++            int frac;
++
++            // Determine whether we are at a peak or trough in the current
++            // sound.  Multiply by 2 so that frac % 2 will give 0 or 1
++            // depending on whether we are at a peak or trough.
++
++            frac = (phase_offset * current_freq * 2) / param_samplerate;
++
++            if ((frac % 2) == 0)
++            {
++                this_value = SQUARE_WAVE_AMP;
++            }
++            else
++            {
++                this_value = -SQUARE_WAVE_AMP;
++            }
++
++            ++phase_offset;
++        }
++
++        --current_remaining;
++
++        // Use the same value for the left and right channels.
++
++        *leftptr += this_value;
++        *rightptr += this_value;
++
++        leftptr += 2;
++        rightptr += 2;
++    }
++}
+ 
+ void
+ SD_StopDigitized(void)
+@@ -486,6 +608,7 @@ SD_StopDigitized(void)
+     {
+         case sds_PC:
+ //            SDL_PCStopSampleInIRQ();
++            SDL_PCStopSound();
+             break;
+         case sds_SoundBlaster:
+ //            SDL_SBStopSampleInIRQ();
+@@ -838,7 +961,7 @@ SDL_ShutDevice(void)
+     switch (SoundMode)
+     {
+         case sdm_PC:
+-//            SDL_ShutPC();
++            SDL_ShutPC();
+             break;
+         case sdm_AdLib:
+             SDL_ShutAL();
+@@ -1088,6 +1211,9 @@ SD_Startup(void)
+ 
+     alTimeCount = 0;
+ 
++    // Add PC speaker sound mixer
++    Mix_SetPostMix(SDL_PCMixCallback, NULL);
++
+     SD_SetSoundMode(sdm_Off);
+     SD_SetMusicMode(smm_Off);
+ 
+@@ -1168,7 +1294,6 @@ SD_PlaySound(soundnames sound)
+     {
+         if ((DigiMode == sds_PC) && (SoundMode == sdm_PC))
+         {
+-#ifdef NOTYET
+             if (s->priority < SoundPriority)
+                 return 0;
+ 
+@@ -1178,9 +1303,6 @@ SD_PlaySound(soundnames sound)
+             SoundPositioned = ispos;
+             SoundNumber = sound;
+             SoundPriority = s->priority;
+-#else
+-            return 0;
+-#endif
+         }
+         else
+         {
+@@ -1210,7 +1332,7 @@ SD_PlaySound(soundnames sound)
+     switch (SoundMode)
+     {
+         case sdm_PC:
+-//            SDL_PCPlaySound((PCSound *)s);
++            SDL_PCPlaySound((PCSound *)s);
+             break;
+         case sdm_AdLib:
+             SDL_ALPlaySound((AdLibSound *)s);
+@@ -1264,7 +1386,7 @@ SD_StopSound(void)
+     switch (SoundMode)
+     {
+         case sdm_PC:
+-//            SDL_PCStopSound();
++            SDL_PCStopSound();
+             break;
+         case sdm_AdLib:
+             SDL_ALStopSound();
+--- wolf4sdl.orig/wl_menu.cpp
++++ wolf4sdl/wl_menu.cpp
+@@ -104,7 +104,7 @@ CP_itemtype SndMenu[] = {
+     {1, "", 0},
+ #else
+     {1, STR_NONE, 0},
+-    {0, STR_PC, 0},
++    {1, STR_PC, 0},
+     {1, STR_ALSB, 0},
+     {0, "", 0},
+     {0, "", 0},
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/32-mingw.patch wolf4sdl/debian/patches/32-mingw.patch
--- Wolf4SDL-1.6-src/debian/patches/32-mingw.patch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/32-mingw.patch	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,24 @@
+Subject: Fix portability issues on MinGW.
+Author: Fabian Greffrath <fabian+debian@greffrath.com>
+
+--- wolf4sdl.orig/Makefile
++++ wolf4sdl/Makefile
+@@ -37,6 +37,9 @@ CXXFLAGS += $(CFLAGS)
+ 
+ LDFLAGS += $(LDFLAGS_SDL)
+ LDFLAGS += -lSDL_mixer
++ifneq (,$(findstring MINGW,$(shell uname -s)))
++LDFLAGS += -static-libgcc
++endif
+ 
+ SRCS :=
+ SRCS += fmopl.cpp
+@@ -106,7 +109,7 @@ $(BINARY): $(OBJS)
+ 
+ clean distclean:
+ 	@echo '===> CLEAN'
+-	$(Q)rm -fr $(DEPS) $(OBJS) $(BINARY)
++	$(Q)rm -fr $(DEPS) $(OBJS) $(BINARY) $(BINARY).exe
+ 
+ install: $(BINARY)
+ 	@echo '===> INSTALL'
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/patches/series wolf4sdl/debian/patches/series
--- Wolf4SDL-1.6-src/debian/patches/series	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/patches/series	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,5 @@
+02-enable-shading.patch
+10-datadir.patch
+21-compiler-warnings.patch
+31-pc-speaker.patch
+32-mingw.patch
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/pixmaps/wolf4sdl.xpm wolf4sdl/debian/pixmaps/wolf4sdl.xpm
--- Wolf4SDL-1.6-src/debian/pixmaps/wolf4sdl.xpm	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/pixmaps/wolf4sdl.xpm	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,118 @@
+/* XPM */
+static char * wolf4sdl_xpm[] = {
+"32 32 83 1",
+" 	c None",
+".	c #462E2E",
+"+	c #5D4617",
+"@	c #A25D00",
+"#	c #D15D00",
+"$	c #E87400",
+"%	c #B95D00",
+"&	c #8B4600",
+"*	c #A25D17",
+"=	c #46462E",
+"-	c #744617",
+";	c #8B4617",
+">	c #5D462E",
+",	c #A24600",
+"'	c #FF7400",
+")	c #74462E",
+"!	c #2E2E2E",
+"~	c #8B5D2E",
+"{	c #8B462E",
+"]	c #5D2E17",
+"^	c #A25D2E",
+"/	c #171717",
+"(	c #B97446",
+"_	c #D18B5D",
+":	c #B9742E",
+"<	c #A25D46",
+"[	c #8B5D17",
+"}	c #8B5D46",
+"|	c #000000",
+"1	c #2E2E46",
+"2	c #A27446",
+"3	c #D17446",
+"4	c #E8A274",
+"5	c #FFB98B",
+"6	c #FFA274",
+"7	c #E88B5D",
+"8	c #745D2E",
+"9	c #B95D17",
+"0	c #5D2E00",
+"a	c #E8A25D",
+"b	c #B98B5D",
+"c	c #74745D",
+"d	c #FFB9A2",
+"e	c #B9A2A2",
+"f	c #5D4646",
+"g	c #745D46",
+"h	c #8B7446",
+"i	c #A28B74",
+"j	c #B98B8B",
+"k	c #8B5D5D",
+"l	c #5D5D5D",
+"m	c #744646",
+"n	c #2E2E17",
+"o	c #46465D",
+"p	c #745D74",
+"q	c #B9745D",
+"r	c #B95D2E",
+"s	c #8B8B8B",
+"t	c #1717A2",
+"u	c #2E2E8B",
+"v	c #A20000",
+"w	c #17178B",
+"x	c #2E2ED1",
+"y	c #8B74E8",
+"z	c #E8B9A2",
+"A	c #E8A28B",
+"B	c #E8B98B",
+"C	c #E8A2A2",
+"D	c #E8D1B9",
+"E	c #FFD1B9",
+"F	c #D18B46",
+"G	c #FFA28B",
+"H	c #B9A28B",
+"I	c #B98B74",
+"J	c #B9B9A2",
+"K	c #D1B9A2",
+"L	c #E8D1D1",
+"M	c #E8E8E8",
+"N	c #FFE8E8",
+"O	c #FFD1A2",
+"P	c #462E17",
+"Q	c #D1A274",
+"R	c #464617",
+"      .+@####$##$$$$$#%+        ",
+"      +&@%%%######$$$$#*+=      ",
+"     =-@@@@@%%%%%%#$$$$#;>      ",
+"     +;@@&&&,@@@*@##$''#*)      ",
+"    !&@@,)++)~@;))@%$'$@@;      ",
+"    !&,;{)+++>,-+]+%##%{;-      ",
+"    !+&;~^^^~;;;)))*%@;~;+/     ",
+"   =/+;;~(___:<^~~)[@*~}~]|     ",
+"   1/))~2345567_328~**(390|     ",
+"    !)~}(3a6555673<((b672>|     ",
+"    !)~<2c345d56a3(3:2e6(>/     ",
+"    =;^<~fghij473~)}gki4:~>!    ",
+"    ~*^2~>!1lm((^+n1opq_rr2/    ",
+"   f<~<3_stumv~}~~~wxyd5(2(/=   ",
+"    ~~2_6zzzA774BBBCzDEdb^~/1   ",
+"    ~~(F7555G7a5d5555555_(}/    ",
+"    8~(3F6664F74AA6556aa_(~!    ",
+"    )~(F_7777(F__F7464_7F28     ",
+"     )(76F(3_______((366_}      ",
+"     )(767HIFFFFFFFzA755qg      ",
+"     n~_77eJKKzzzzzEBa55}=      ",
+"     |)3_7HKLLMMMMNOB4d5)n      ",
+"     |)(_6745OEEEEE46d55)!      ",
+"     |]^365667__7a65d576)!      ",
+"     |P)~_655647a65d56_a)!      ",
+"     /P)+<_Q44_F_444Q_34)!      ",
+"     !>)R)~2((^~^(3(<2F6g.      ",
+"     =>)++++++)))~~^(_66c       ",
+"      >)+)))~2^<222_4557k       ",
+"      >))~^<(_3__F(7Gd5_c       ",
+"      >))~2(_a7464_7654(g       ",
+"      >)~^<(75765d6746_<f       "};
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/rules wolf4sdl/debian/rules
--- Wolf4SDL-1.6-src/debian/rules	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/rules	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,61 @@
+#!/usr/bin/make -f
+
+CFLAGS  += -Wall -Wno-sign-compare -Wno-switch
+CFLAGS  += -DDATADIR=\"/usr/share/games/wolf3d/\"
+LDFLAGS += -Wl,-z,defs -Wl,-O1 -Wl,--as-needed
+
+%:
+	dh $@
+
+override_dh_auto_build:
+	# Wolf3d Full v1.4 GT/ID/Activision
+	sed -e "s/^\(\/\/\)\?\(#define SPEAR\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define SPEARDEMO\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define UPLOAD\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define GOODTIMES\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define CARMACIZED\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_0\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_1\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_2\)/\/\/\2/" \
+	    -i version.h
+	dh_auto_build -- BINARY=wolf4sdl-wl6
+	$(MAKE) clean
+	# Wolf3d Full v1.4 Apogee (with ReadThis)
+	sed -e "s/^\(\/\/\)\?\(#define GOODTIMES\)/\/\/\2/" \
+	    -i version.h
+	dh_auto_build -- BINARY=wolf4sdl-wl6a
+	$(MAKE) clean
+	# Wolf3d Shareware v1.4
+	sed -e "s/^\(\/\/\)\?\(#define UPLOAD\)/\2/" \
+	    -i version.h
+	dh_auto_build -- BINARY=wolf4sdl-wl1
+	$(MAKE) clean
+	# Spear of Destiny Full and Mission Disks
+	# (and GOODTIMES for no FormGen quiz)
+	sed -e "s/^\(\/\/\)\?\(#define SPEAR\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define SPEARDEMO\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define UPLOAD\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define GOODTIMES\)/\2/" \
+	    -i version.h
+	dh_auto_build -- BINARY=wolf4sdl-sod
+	$(MAKE) clean
+	# Spear of Destiny Demo
+	sed -e "s/^\(\/\/\)\?\(#define SPEARDEMO\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define GOODTIMES\)/\/\/\2/" \
+	    -i version.h
+	dh_auto_build -- BINARY=wolf4sdl-sdm
+
+override_dh_auto_clean:
+	sed -e "s/^\(\/\/\)\?\(#define SPEAR\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define SPEARDEMO\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define UPLOAD\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define GOODTIMES\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define CARMACIZED\)/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_0\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_1\)/\/\/\2/" \
+	    -e "s/^\(\/\/\)\?\(#define APOGEE_1_2\)/\/\/\2/" \
+	    -i version.h
+	dh_auto_clean
+
+override_dh_auto_install:
+	dh_auto_install --no-act
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/source/format wolf4sdl/debian/source/format
--- Wolf4SDL-1.6-src/debian/source/format	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/source/format	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1 @@
+3.0 (quilt)
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/source/local-options wolf4sdl/debian/source/local-options
--- Wolf4SDL-1.6-src/debian/source/local-options	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/source/local-options	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,2 @@
+unapply-patches
+abort-on-upstream-changes
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/watch wolf4sdl/debian/watch
--- Wolf4SDL-1.6-src/debian/watch	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/watch	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,2 @@
+version=3
+http://www.alice-dsl.net/mkroll/bins/Wolf4SDL-(.*)-src\.zip
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.docs wolf4sdl/debian/wolf4sdl.docs
--- Wolf4SDL-1.6-src/debian/wolf4sdl.docs	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.docs	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1 @@
+README*
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.install wolf4sdl/debian/wolf4sdl.install
--- Wolf4SDL-1.6-src/debian/wolf4sdl.install	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.install	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,3 @@
+wolf4sdl-* usr/games
+debian/pixmaps usr/share
+debian/applications usr/share
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.links wolf4sdl/debian/wolf4sdl.links
--- Wolf4SDL-1.6-src/debian/wolf4sdl.links	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.links	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,5 @@
+usr/share/man/man6/wolf4sdl.6.gz usr/share/man/man6/wolf4sdl-wl6.6.gz 
+usr/share/man/man6/wolf4sdl.6.gz usr/share/man/man6/wolf4sdl-wl6a.6.gz 
+usr/share/man/man6/wolf4sdl.6.gz usr/share/man/man6/wolf4sdl-wl1.6.gz 
+usr/share/man/man6/wolf4sdl.6.gz usr/share/man/man6/wolf4sdl-sod.6.gz 
+usr/share/man/man6/wolf4sdl.6.gz usr/share/man/man6/wolf4sdl-sdm.6.gz 
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.lintian-overrides wolf4sdl/debian/wolf4sdl.lintian-overrides
--- Wolf4SDL-1.6-src/debian/wolf4sdl.lintian-overrides	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.lintian-overrides	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,3 @@
+# The /usr/games/wolf4sdl binary is handled via update-alternatives
+wolf4sdl: desktop-command-not-in-package
+wolf4sdl: menu-command-not-in-package
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.manpages wolf4sdl/debian/wolf4sdl.manpages
--- Wolf4SDL-1.6-src/debian/wolf4sdl.manpages	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.manpages	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1 @@
+debian/man/wolf4sdl.6
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.menu wolf4sdl/debian/wolf4sdl.menu
--- Wolf4SDL-1.6-src/debian/wolf4sdl.menu	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.menu	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,5 @@
+?package(wolf4sdl):needs="X11" section="Games/Action"\
+  title="Wolf4SDL"\
+  longtitle="SDL-Port of Wolfenstein 3-D and Spear of Destiny"\
+  command="/usr/games/wolf4sdl"\
+  icon="/usr/share/pixmaps/wolf4sdl.xpm"
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.postinst wolf4sdl/debian/wolf4sdl.postinst
--- Wolf4SDL-1.6-src/debian/wolf4sdl.postinst	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.postinst	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,13 @@
+#!/bin/sh
+set -e
+
+if [ "$1" = "configure" ] || [ "$1" = "abort-upgrade" ]
+then
+  update-alternatives --quiet --install /usr/games/wolf4sdl wolf4sdl /usr/games/wolf4sdl-wl1  30
+  update-alternatives --quiet --install /usr/games/wolf4sdl wolf4sdl /usr/games/wolf4sdl-wl6  20
+  update-alternatives --quiet --install /usr/games/wolf4sdl wolf4sdl /usr/games/wolf4sdl-wl6a 20
+  update-alternatives --quiet --install /usr/games/wolf4sdl wolf4sdl /usr/games/wolf4sdl-sod  20
+  update-alternatives --quiet --install /usr/games/wolf4sdl wolf4sdl /usr/games/wolf4sdl-sdm  20
+fi
+
+#DEBHELPER#
diff -urN --exclude .git Wolf4SDL-1.6-src/debian/wolf4sdl.prerm wolf4sdl/debian/wolf4sdl.prerm
--- Wolf4SDL-1.6-src/debian/wolf4sdl.prerm	1970-01-01 01:00:00.000000000 +0100
+++ wolf4sdl/debian/wolf4sdl.prerm	2011-04-27 19:58:18.548203098 +0200
@@ -0,0 +1,9 @@
+#!/bin/sh
+set -e
+
+if [ "$1" = "remove" ] || [ "$1" = "deconfigure" ]
+then
+  update-alternatives --quiet --remove-all wolf4sdl
+fi
+
+#DEBHELPER#
